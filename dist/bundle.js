(()=>{"use strict";const t={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let e;const n=new Uint8Array(16);function r(){if(!e&&(e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!e))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(n)}const o=[];for(let t=0;t<256;++t)o.push((t+256).toString(16).slice(1));const i=function(e,n,i){if(t.randomUUID&&!n&&!e)return t.randomUUID();const a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,n){i=i||0;for(let t=0;t<16;++t)n[i+t]=a[t];return n}return function(t,e=0){return(o[t[e+0]]+o[t[e+1]]+o[t[e+2]]+o[t[e+3]]+"-"+o[t[e+4]]+o[t[e+5]]+"-"+o[t[e+6]]+o[t[e+7]]+"-"+o[t[e+8]]+o[t[e+9]]+"-"+o[t[e+10]]+o[t[e+11]]+o[t[e+12]]+o[t[e+13]]+o[t[e+14]]+o[t[e+15]]).toLowerCase()}(a)};var a=function(){return a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},a.apply(this,arguments)},c=function(){function t(t,e,n){this._id=i(),this._name=t,this._price=e,this._description=n}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"price",{get:function(){return this._price},set:function(t){this._price=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"description",{get:function(){return this._description},set:function(t){this._description=t},enumerable:!1,configurable:!0}),t.prototype.itemElement=function(){var t=this,e=document.createElement("div");e.classList.add("item-card");var n=document.createElement("h3");n.textContent=this._name,e.appendChild(n);var r=document.createElement("p");r.textContent=this._description,e.appendChild(r);var o=document.createElement("p");o.textContent="Price: $".concat(this._price),e.appendChild(o);var i=document.createElement("button");return i.textContent="Add to Cart",i.addEventListener("click",(function(){var e;null===(e=d.myUser)||void 0===e||e.addToCart(t),d.updateCart()})),e.appendChild(i),e},t}(),u=function(){function t(t,e){this._id=i(),this._name=t,this._age=e,this._cart=[]}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"age",{get:function(){return this._age},set:function(t){this._age=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cart",{get:function(){return this._cart},enumerable:!1,configurable:!0}),t.prototype.addToCart=function(t){var e=this._cart.find((function(e){return e.item.id===t.id}));if(e)e.quantity+=1;else{var n={item:t,quantity:1};this._cart.push(n)}},t.prototype.removeFromCart=function(t){this._cart=this._cart.filter((function(e){return e.item.id!==t.id}))},t.prototype.removeQuantityFromCart=function(t,e){var n=this._cart.findIndex((function(e){return e.item.id===t.id}));if(-1!==n){var r=a({},this._cart[n]);r.quantity-=e,r.quantity<=0?this._cart.splice(n,1):this._cart[n]=r}},t.prototype.cartTotal=function(){for(var t=0,e=0,n=this._cart;e<n.length;e++){var r=n[e];t+=r.item.price*r.quantity}return t},t.prototype.printCart=function(){console.log("Cart for ".concat(this._name,":"));for(var t=0,e=this._cart;t<e.length;t++){var n=e[t];console.log("- ".concat(n.item.name," ($").concat(n.item.price,") - Quantity: ").concat(n.quantity))}},t.prototype.cartHTMLElement=function(){for(var t=document.createElement("div"),e=0,n=this._cart;e<n.length;e++){var r=n[e],o=document.createElement("div");o.classList.add("cart-item");var i=document.createElement("h4");i.textContent=r.item.name,o.appendChild(i);var a=document.createElement("p");a.textContent="Quantity: ".concat(r.quantity),o.appendChild(a);var c=document.createElement("p");c.textContent="Price: $".concat(r.item.price),o.appendChild(c);var u=document.createElement("button");u.textContent="Remove One",u.id="removeOne-".concat(r.item.id),o.appendChild(u);var d=document.createElement("button");d.textContent="Remove All",d.id="removeAll-".concat(r.item.id),o.appendChild(d),t.appendChild(o)}return t},t.prototype.addRemoveEventListeners=function(){for(var t=this,e=function(e){document.getElementById("removeOne-".concat(e.item.id)).addEventListener("click",(function(){t.removeQuantityFromCart(e.item,1),d.updateCart()})),document.getElementById("removeAll-".concat(e.item.id)).addEventListener("click",(function(){t.removeFromCart(e.item),d.updateCart()}))},n=0,r=this._cart;n<r.length;n++)e(r[n])},t}(),d=function(){function t(){this._items=[];var t=new c("Red Hat",10,"A stylish red hat"),e=new c("Blue Shirt",20,"A comfortable blue shirt"),n=new c("Green Pants",30,"Trendy green pants"),r=new c("Yellow Dress",25,"A beautiful yellow dress"),o=new c("Black Shoes",40,"Classic black shoes"),i=new c("White Sneakers",35,"Casual white sneakers");this._items.push(t,e,n,r,o,i)}return Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),t.prototype.showItems=function(){var t=document.getElementById("shop");console.log(t);for(var e=0,n=this._items;e<n.length;e++){var r=n[e].itemElement();t.appendChild(r)}},t.updateCart=function(){var e=document.getElementById("cart");if(t.myUser&&0!==t.myUser.cart.length){var n=t.myUser.cartHTMLElement();e.appendChild(n),t.myUser.addRemoveEventListeners()}else{var r=document.createElement("p");r.textContent="Cart is empty.",e.appendChild(r)}},t.loginUser=function(e){e.preventDefault();var n=document.getElementById("name"),r=document.getElementById("age"),o=n.value.trim(),i=parseInt(r.value.trim(),10);o&&!isNaN(i)?(t.myUser=new u(o,i),console.log("Logged in as ".concat(t.myUser.name)),console.log("Age: ".concat(t.myUser.age)),(new t).showItems(),t.updateCart()):console.log("Invalid login credentials.")},t}();document.getElementById("loginForm").addEventListener("submit",d.loginUser),(new d).showItems(),d.updateCart()})();